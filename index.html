<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="./style.css">
		<link rel="icon" href="./favicon.ico">
		<script src="https://ssstuart.net/APIs/WWWidget.js"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Oswald&family=Press+Start+2P&family=Tektur:wght@700&display=swap" rel="stylesheet">
		
		<title>C'est quoi le jeu ? - Classement</title>
		<meta name="author" content="SSStuart">
		<meta name="description" content="Classement et infos du mini-jeu">
	
		<meta property="og:description" content="Classement et infos du mini-jeu">
		<meta property="og:title" content="C'est quoi le jeu ?">
		<meta property="og:url" content="https://ssstuart.github.io/C-est-quoi-le-jeu/" />
		<meta property="og:type" content="website"/>
		<meta property="og:image" content="https://ssstuart.github.io/C-est-quoi-le-jeu/favicon.png" />
		<meta name="theme-color" content="#941b0c">
	</head>
	<body>
		<header>
			<h1>C'est quoi le jeu</h1><img id="logo" src="./favicon.png" alt="icon">
		</header>
		<div id="leaderboard">
			<!-- Contenu dynamique -->
		</div>
		<div id="awardContainer">
			<span id="awardFSClose">Cliquez n'importe o√π pour fermer</span>
			<img id="awardFSImg" src="" alt="">
			<p id="awardFSTitle"></p>
		</div>
		<p id="stats">
			Nombre de jeux total devin√©s : <span id="nbJeuxTotal" class="stats_nb">...</span><br>
			‚Ä¶ non devin√©s : <span class="stats_nb">7</span>
		</p>
		<footer>
			<p id="sponsor">Sponsoris√© par Tristan et BUG-MAN-FR &#128526;</p>
			<p id="updatedDate">Mis √† jour le <span id="dateAuto">...</span></p>
		</footer>
	</body>
	<script>
		// Classement des joueurs
		const tableLeaderboard = {
			"tristtann":		"18",
			"_loyde18":			"15",
			"bosslennygood":	"6",
			"ichinose0001":		"5",
			"damien0792":		"4",
			"ipsut":			"4",
			"_mmario":			"4",
			"breizhhardware":	"3",
			"redpig_72":		"3",
			"radly_or_not":		"2",
			"ougarix":			"2",
			"emma.sch":			"2",
			"dj_pancho":		"2",
			"strike7617":		"1",
			"AST":				"1",
			"lysdead":			"1",
			"picrouge":			"1",
			"fizz1774":			"1",
			"jeanmichel_bis":	"1",
			"alexlebabtou":		"1",
			"rayreth":			"0",
			"bugmanfr":			"0",
			"colonelfp14":		"-1"
		}
	
		// Ajout des "troph√©s" √† c√¥t√© du nom du joueur
		function addAward(fileName, title, alt, container) {
			var award = document.createElement("img");
			award.classList.add("award");
	
			award.src = "./pictures/" + fileName + ".png";
			award.alt = alt;
			award.title = title;
			award.onclick = function() {
				showAward(award.title, award.src);
			}
	
			container.appendChild(award);
		}
	
		// Affichage du "troph√©" en plein √©cran
		function showAward(title, src) {
			document.getElementById("awardFSTitle").innerText = title;
			document.getElementById("awardFSImg").src = src;
	
			document.getElementById("awardContainer").classList.add("visible");
		}
	
		// Cr√©ation du tableau des joueurs
		var totalPoints = 0;
		var lineNb = 0;
		
		
		const listPoints = Object.entries(tableLeaderboard).sort((a, b) => b[1] - a[1]);
		listPoints.forEach(ligne => {
			lineNb++;
			var playerAsAward = false;
			var playerPoints = ligne[1];
			var playerName = ligne[0];
	
			if(parseInt(playerPoints) != NaN)
				totalPoints+= parseInt(playerPoints);
	
			var leaderboardLine = document.createElement("div");
			leaderboardLine.classList.add("lb_line");
			leaderboardLine.tabIndex = 0;
	
			/*   TROPH√âES   */
			
			if (lineNb == 1) {
				addAward("trophyFirst", 
						"Troph√©e : Premi√®re place, GG !", 
						"Troph√©e de la premi√®re place", 
						leaderboardLine);
			}
			if (playerName == "rayreth") {
				addAward("trophyBG", 
						"Troph√©e : BG üòé", 
						"Troph√©e pour un BG üòé", 
						leaderboardLine);
			}
			if (playerName == "tristtann") {
				addAward("trophyFishy", 
						"Troph√©e : √ßa sent le poisson (1er avril)", 
						"Troph√©e du 1er avril", 
						leaderboardLine);
				addAward("trophyRGB", 
						"Troph√©e : un jeu *Hue* en couleur", 
						"Troph√©e du jeu Hue", 
						leaderboardLine);
			}
			if (playerName == "tristtann" || playerName == "bugmanfr") {
				addAward("trophySponsor", 
						"Troph√©e : Sponsor du jeu", 
						"Troph√©e de sponsor du jeu", 
						leaderboardLine);
			}
			if (playerName == "bosslennygood") {
				addAward("trophyNice", 
						"Troph√©e : 69√®me jeu trouv√©", 
						"Troph√©e du 69√®me jeu trouv√©", 
						leaderboardLine);
			}
	
			var lbLinePseudo = document.createElement("span");
			lbLinePseudo.classList.add("pseudo");
			lbLinePseudo.innerText = playerName;
	
			var lbLinePoints = document.createElement("span");
			lbLinePoints.classList.add("points");
			lbLinePoints.innerText = playerPoints;
	
			leaderboardLine.appendChild(lbLinePseudo);
			leaderboardLine.appendChild(lbLinePoints);
	
			if (playerPoints < 0) {
				leaderboardLine.classList.add("negative");
			}
			document.getElementById("leaderboard").appendChild(leaderboardLine);
		});
	
		// Affichage du nombre total de jeux devin√©s
		document.getElementById('nbJeuxTotal').innerText = totalPoints;
	
		// Masquer le "troph√©" en plein √©cran lors d'un clic
		document.getElementById("awardContainer").addEventListener("click", function() {
			document.getElementById("awardContainer").classList.add("hide");
			document.getElementById("awardContainer").classList.remove("visible");
			setTimeout(function(){ document.getElementById("awardContainer").classList.remove("hide"); }, 400);
		});
	
		// Mise √† jour de la date de "derni√®re mise √† jour" du classement
		var lastEditDate = new Date(document.lastModified);
		document.getElementById('dateAuto').innerText = lastEditDate.toLocaleDateString();
	</script>
</html>
