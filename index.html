<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./style.css?v=3.4">
	<link rel="icon" href="./favicon.ico">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Oswald&family=Press+Start+2P&family=Tektur:wght@700&display=swap" rel="stylesheet">
	
	<title>C'est quoi le jeu ? - Classement</title>
	<meta name="author" content="SSStuart">
    <meta name="description" content="Classement et infos du mini-jeu">

	<meta property="og:description" content="Classement et infos du mini-jeu">
	<meta property="og:title" content="C'est quoi le jeu ?">
	<meta property="og:url" content="https://ssstuart.github.io/C-est-quoi-le-jeu/" />
	<meta property="og:type" content="website"/>
	<meta property="og:image" content="https://ssstuart.github.io/C-est-quoi-le-jeu/favicon.png" />
	<meta name="theme-color" content="#941b0c">
</head>
<body>
	<header>
		<h1>C'est quoi le jeu</h1><img id="logo" src="./favicon.png" alt="icon">
	</header>
	<div id="leaderboard">
		<!-- Contenu dynamique -->
	</div>
	<p id="stats">
		Nombre de jeux total devin√©s : <span id="nbJeuxTotal" class="stats_nb">...</span><br>
		‚Ä¶ non devin√©s : <span class="stats_nb">5</span>
	</p>
	<footer>
		<p id="sponsor">Sponsoris√© par Tristan et BUG-MAN-FR &#128526;</p>
		<p id="updatedDate">Mis √† jour le <span id="dateAuto">...</span></p>
	</footer>
</body>
<script>
	// NOUVEAU PSEUDO DISCORD : migration restante pour : AST -> Introuvable ...
	var tableLeaderboard = 
`15	| tristtann
12	| _loyde18
5	| ichinose0001
5	| bosslennygood
4	| damien0792
3	| ipsut
3	| breizhhardware
3	| redpig_72
2	| radly_or_not
2	| _mmario
2	| ougarix
1	| strike7617
1	| dj_pancho
1	| AST
1	| lysdead
1	| picrouge
1   | fizz1774
1   | jeanmichel_bis
1   | alexlebabtou
1   | emma.sch
0	| rayreth
-1	| colonelfp14`

	var totalPoints = 0;
	var lineNb = 0;
	listPoints = tableLeaderboard.split("\n");
	listPoints.forEach(ligne => {
		lineNb++;
		asAward = false;
		var points = ligne.split("|")[0].trim();
		var nom = ligne.split("|")[1].trim();

		if(parseInt(points) != NaN)
			totalPoints+= parseInt(points);
		document.getElementById('nbJeuxTotal').innerText = totalPoints;

		const leaderboard_line = document.createElement("div");
		leaderboard_line.classList.add("lb_line");
		leaderboard_line.tabIndex = 0;

		/*   TROPH√âES   */
		
		if (lineNb == 1) {
			const award = document.createElement("img");
			award.classList.add("award");

			award.src = "./pictures/trophyFirst.png";
			award.alt = "Troph√©e de la premi√®re place";
			award.title = "Troph√©e : Premi√®re place, GG !";
			award.onclick = function() {
				award.classList.toggle("show");
			}

			leaderboard_line.appendChild(award);
		}
		if (nom == "rayreth") {
			const award = document.createElement("img");
			award.classList.add("award");

			award.src = "./pictures/trophyBG.png";
			award.alt = "Troph√©e pour un BG üòé";
			award.title = "Troph√©e : BG üòé";

			leaderboard_line.appendChild(award);
		}
		if (nom == "tristtann") {
			const award = document.createElement("img");
			award.classList.add("award");

			award.src = "./pictures/trophyFishy.png";
			award.alt = "Troph√©e du 1er avril";
			award.title = "Troph√©e : √ßa sent le poisson (1er avril)";

			leaderboard_line.appendChild(award);
		}
		if (nom == "...") {
			const award = document.createElement("img");
			award.classList.add("award");

			award.src = "./pictures/trophyNotADolphin.png";
			award.alt = "Troph√©e de l'√©l√©phin";
			award.title = "Troph√©e : Ceci n'est pas un dauphin";


			leaderboard_line.appendChild(award);
		}

		const lb_line_pseudo = document.createElement("span");
		lb_line_pseudo.classList.add("pseudo");
		lb_line_pseudo.innerText = nom;

		const lb_line_points = document.createElement("span");
		lb_line_points.classList.add("points");
		lb_line_points.innerText = points;

		leaderboard_line.appendChild(lb_line_pseudo);
		leaderboard_line.appendChild(lb_line_points);

		if (points < 0) {
			leaderboard_line.classList.add("negative");
		}
		document.getElementById("leaderboard").appendChild(leaderboard_line);
	});


	var lastEditDate = new Date(document.lastModified);
	document.getElementById('dateAuto').innerText = lastEditDate.toLocaleDateString();
</script>
</html>
